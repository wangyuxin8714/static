## 饼图最大份数
    
    知识点
    moveTo();
    lineTo();
    strokeStyle;
    stroke();
    fillStyle;
    fill();
    reduce();
    sort();
    Math.max.apply();
        
**思路**
- 先按照之前绘制饼图的方法，实现基础饼图的绘制。
    
        
    需要注意的是，此时需要把每一个饼图的值转成对应的角度。
    
    当前饼图的值/所有饼图值的和 * 360；
- 再找到所有数据中最大的五份，在循环里面判断，如果是最大五份中的一份，就给添加标注线。
    
    
    需要用的sort方法排序，然后找出最大的五份。

- 找到所有数据中最大的一份，给最大的一份添加透明遮罩

        Math.max.apply()取出来数组中最大的一份，找到最大这份的起始角度和结束角度。

- 描边一个透明的圆环
- 填充一个白色的圆

## 不规则圆
    
**思路**
    
- 先按照饼图的思路，画出基础的饼图。
- 再动态的计算下每一个饼图的半径，分数大的半径大，分数小的半径小。
- 把每一份饼图的改为上一步计算出来的半径。
- 填充一个小点的白色的圆
- 描边一个透明色的圆
- 再绘制小圆，小圆圆心点的规律和之前讲的放文字画线是一样的，都是在每一份扇形中间的位置。


## 图片灰色处理

    知识点
    drawImage();
    getImageData();
    putImageData();
    灰色换算公式
    var getGrey = function(r, g, b) { //转化成灰色的公式，记住就行
        return 0.299 * r + 0.578 * g + 0.144 * b;
    }
    
    
    

**思路**
    
- 需要用到fileReader拿到选择那张图片的路径
- 拿到路径之后，判断当前图片时横图还是竖图。横图的话，高度固定，竖图的话，宽度固定。
- 把图片绘制到canvas里面。
- 使用getImageData取出画布上所有的像素数据
- 循环遍历把所有的像素转成灰色的
- 再使用putImageData把所有的像素数据放回画布上边
- 使用离屏canvas，添加水印
    
    
    离屏canvas:

    创建一个新的canvas，然后将要绘制的图形，先在新的canvas中绘制，然后使用drawImage()将新的canvas画到当前的canvas上